<!DOCTYPE html>
<html>

<head>
    <title>Page Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
        integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
        integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
        crossorigin="anonymous"></script>
</head>

<body>
    <div>
        <label for="studentName">Name Student </label>
        <input type="text" id="name" name="studentName" placeholder="Enter name of Student" />
        <label for="studentAge">Age Student </label>
        <input type="number" id="age" name="studentAge" placeholder="Enter age of Student" />
        <button onClick="addStudent()">Add Student</button>
        <button onClick="display()">Show Student</button>
          <!--Button Sort-->
        <button type="button" class="btn btn-warning" onclick="sortStudentByAge()">Sort By Age</button>
        <button type="button" class="btn btn-danger" onclick="sortStudentByName()">Sort By Name</button>
        <!--Button Search-->
        <div class="input-group input-group-sm mb-3">
            <input type="text" id="textSearch" onClick="showStudent()">
            <div class="input-group-prepend">
                <button type="button" class="btn btn-success" onclick="search()">Search</button>
            </div>
        </div>
    </div>

     <!-- Table Show Data -->
    <div id="tableStudent">


    </div>
    <input type="hidden" id="index">
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Student</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                 <!-- Body Modal -->
                <div class="modal-body">
                    <div><label for="studentName">Name Student </label>
                        <input type="text" id="editName" name="studentName" />
                    </div>
                    <div><label for="studentAge">Age Student </label>
                        <input type="number" id="editAge" name="studentAge" />
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" onclick="saveStudent()" data-bs-dismiss="modal" class="btn btn-primary">Save
                        changes</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        class Student {
            age;
            name;
            constructor(age, name) {
                this.age = age;
                this.name = name;
            }
            study() {
                console.log('student ' + this.name + ' is studying...');
            }
        }
        let students = [];
        // const array = [1, [a,b,c], [[1,2]]];
        const studentC = new Student(20, 'Nguyen Van C');
        students.push(studentC);
        students.push(new Student(11, "D"));
        students.push(new Student(12, "A"));
        students.push(new Student(13, "F"));
        students.push(new Student(14, "D"));
        students.push(new Student(15, "E"));
        students.push(new Student(16, "B"));
        students.push(new Student(17, "G"));
        students.push(new Student(18, "H"));
        students.push(new Student(19, "I"));
        students.push(new Student(20, "J"));
        students.push(new Student(21, "K"));
        students.push(new Student(22, "A"));

        function display() {
            let table = "<table style='border-collapse: collapse'; border='1px'>" +
                "<tr><th>STT</th>" +
                "<th>Age</th>" +
                "<th>Name</th>" +
                "</tr>";
            let name;
            let age;
            //Biến lặp có thể dùng i,j,k
            for (let i = 0; i < students.length; i++) {
                age = students[i].age;
                name = students[i].name;
                table += "<tr>" +
                    "<td>" + (i + 1) + "</td>" +
                    "<td>" + age + "</td>" +
                    "<td>" + name + "</td>" +
                    "<td><input type='button' class='btn btn-primary' data-bs-toggle='modal' data-bs-target='#exampleModal' onclick='edit(" + i + " )' value='Edit'></td>" +
                    "<td><input type='button' onclick='delStudent(" + i + ")'value='Delete'></td></tr>";
            }
            document.getElementById("tableStudent").innerHTML = table;

        };
        display();
        function addStudent() {
            const studentName = document.getElementById("name").value;
            const studentAge = document.getElementById("age").value;
            const student = new Student(studentAge, studentName);
            students.push(student);
            console.log(students);
            display();
        }
        //Biến trong hàm phải rõ nghĩa.
        function edit(index) {
            const student = students[index];
            document.getElementById("editName").value = student.name;
            document.getElementById("editAge").value = student.age;
            document.getElementById("index").value = index;
        }
        function delStudent(index) {
            students.splice(index, 1);
            console.log(students);
            display();
        }

        function saveStudent() {
            const studentName = document.getElementById("editName").value;
            const studentAge = document.getElementById("editAge").value;
            const newStudent = new Student(studentAge, studentName);
            const index = document.getElementById("index").value;
            students[index] = newStudent;
            display();

        }
        //-1 0 1
        // (method) Array<any>.sort(compareFn?: (a: any, b: any) => number): any[]
        function sortStudentByAge() {
            students.sort((student1, student2) => {
                if (student1.age > student2.age) {
                    return 1;
                } else if (student1.age < student2.age) {
                    return -1;
                } else {
                    return 0;
                }
            });
            display();
        }
   
        function sortStudentByName() {
            students.sort((student1, student2) => {
                if (student1.name > student2.name) {
                    return 1;
                } else if (student1.name < student2.name) {
                    return -1;
                } else {
                    return 0;
                }
            });
            display();
        }
        let arraySearch = [];
        let saveArray = students;
        function search() {
            arraySearch = [];
            const content = document.getElementById("textSearch").value;
            for (i = 0; i < students.length; i++) {
                if (content === students[i].name) {
                    arraySearch.push(students[i]);
                }
            }
            students = arraySearch;
            console.log(students);
            display();
        }
      
        function showStudent() {
            if(document.getElementById("textSearch").value === ''){
                students = saveArray;
                display();
            }
            c = 8;
        }
        var  a = 5;
        var a = 6;  // có thể khai báo lại, có thể gán lại; var a : khai báo,  = 6 : thực hiện phép gán
        let b = 3;
         b =7;      // Let không thể khai báo lại, có thể gán lại
         const  c = new Student(5, 'C'); // const không thể khai báo và gán lại.
        
       
        
    

    </script>

</body>

</html>

<!--
    Tạo 1 trang quản lý danh sách xe với các thuộc tính năm sản xuất và tên hãng xe.
    Ví dụ Class như dưới: 
    class car{
    year;
    name;
} -->